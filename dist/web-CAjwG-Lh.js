function e(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("version");console.log(e),e.textContent="".concat(PACKAGE_NAME_VERSION.name,", v").concat(PACKAGE_NAME_VERSION.version)}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("urlForm"),t=document.getElementById("result-debug"),n=document.getElementById("result-message"),o=document.getElementById("result-duration"),s=document.getElementById("result-duration-copied"),i=document.getElementById("result-message-error"),l=document.getElementById("input-url"),d=document.getElementById("switch-debug"),c=document.getElementById("button-submit"),a=document.getElementById("supported-domains-list"),r=document.createElement("ul");window.SUPPORTED_DOMAINS_JSON.forEach(e=>{const t=document.createElement("li");t.textContent="".concat(e.domain),r.appendChild(t)}),a.appendChild(r);const u=c.textContent;if(!e)return;const y={set(e){localStorage.setItem("switch-debug",e)},get:()=>localStorage.getItem("switch-debug")};"on"===y.get()?d.checked=!0:d.checked=!1,d.addEventListener("change",e=>{d.checked?(y.set("on"),t.style.display="block"):(y.set("off"),t.style.display="none")});const m={active(){l.setAttribute("disabled",!0),c.setAttribute("disabled",!0),c.setAttribute("aria-busy",!0),o.textContent="",c.textContent="Подождите",t.textContent="",n.style.display="none",s.style.visibility="hidden",o.style.visibility="hidden",i.style.display="none",i.textContent=""},inactive(){l.removeAttribute("disabled"),c.removeAttribute("disabled"),c.removeAttribute("aria-busy"),c.textContent=u},showResults(){o.style.visibility="visible",n.style.display="flex",i.style.display="none",i.textContent=""}};e.addEventListener("submit",async n=>{n.preventDefault();const l={url:e.querySelector("[name=url]").value};try{m.active();const e=await fetch("/api/check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),d=await e.json();if(console.log(d),"on"===y.get()&&(t.textContent=JSON.stringify(d,null,2)),m.inactive(),"error"===d.status)return i.style.display="inline-block",void(i.textContent=d.message);"success"===d.status&&m.showResults(),o.textContent=d.duration,o.addEventListener("click",()=>{const e=document.getElementById("result-duration"),t=function(e,{target:t=document.body}={}){if("string"!=typeof e)throw new TypeError("Expected parameter `text` to be a `string`, got `".concat(typeof e,"`."));const o=document.createElement("textarea"),s=document.activeElement;o.value=e,o.setAttribute("readonly",""),o.style.all="unset",o.style.contain="strict",o.style.position="absolute",o.style.left="-9999px",o.style.width="2em",o.style.height="2em",o.style.padding="0",o.style.border="none",o.style.outline="none",o.style.boxShadow="none",o.style.background="transparent",o.style.fontSize="12pt",o.style.whiteSpace="pre";const i=document.getSelection(),l=i.rangeCount>0&&i.getRangeAt(0);t.append(o),o.select(),o.selectionStart=0,o.selectionEnd=e.length;let d=!1;try{d=document.execCommand("copy")}catch(n){}return o.remove(),l&&(i.removeAllRanges(),i.addRange(l)),s&&s.focus(),d}(e.textContent);t&&(e.classList.remove("blink"),e.offsetWidth,e.classList.add("blink"),t&&console.log("Скопировано!"),s.style.visibility="visible",setTimeout(()=>{s.style.visibility="hidden"},3e3))})}catch(d){m.inactive(),"on"===y.get()&&(t.textContent="Ошибка")}})});export{e as __vite_legacy_guard};
//# sourceMappingURL=web-CAjwG-Lh.js.map
